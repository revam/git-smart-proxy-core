## API Report File for "@revam/git-core"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { Headers } from 'node-fetch';
import { Readable } from 'stream';
import { ReadableSignal } from 'micro-signals';

// @public (undocumented)
export type Body = Uint8Array | Promise<Uint8Array> | PromiseLike<Uint8Array> | Iterable<Uint8Array> | IterableIterator<Uint8Array> | AsyncIterable<Uint8Array> | AsyncIterableIterator<Uint8Array> | undefined | null;

// @public
export type Capabilities = Map<string, string | undefined>;

// @public
export function checkServiceController(target: unknown): target is ServiceController;

// @public
export interface CommandReceivePack {
    commits: [string, string];
    kind: "create" | "update" | "delete";
    reference: string;
}

// @public
export type Commands = Array<CommandReceivePack | CommandUploadPack>;

// @public
export interface CommandUploadPack {
    commits: [string];
    kind: "want" | "have";
}

// @public
export class Context implements Response {
    constructor();
    constructor(url: string);
    constructor(url: string, method: string);
    constructor(url: string, method: string, body: AsyncIterable<Uint8Array> | AsyncIterableIterator<Uint8Array>);
    constructor(url: string, method: string, body: AsyncIterable<Uint8Array> | AsyncIterableIterator<Uint8Array>, headers: Headers | Record<string, string>);
    constructor(url: string, method: string, body: AsyncIterable<Uint8Array> | AsyncIterableIterator<Uint8Array>, headers: Headers | Record<string, string>, advertisement: boolean, path?: string, service?: Service);
    constructor(url?: string, method?: string, body?: AsyncIterable<Uint8Array> | AsyncIterableIterator<Uint8Array>, headers?: Headers | Record<string, string>, advertisement?: boolean, path?: string, service?: Service);
    addError(errorMessage: string): void;
    addMessage(message: string): void;
    readonly advertisement: boolean;
    body: Body;
    capabilities(): Promise<Capabilities>;
    commands(): Promise<ReadonlyCommands>;
    headers: Headers;
    initialise(): Promise<void>;
    readonly isInitialised: boolean;
    length: number | undefined;
    readonly method: "HEAD" | "GET" | "OPTIONS" | "PATCH" | "POST" | "PUT";
    path: string | undefined;
    readonly readable: {
        request(): Readable;
        response(): Readable;
    };
    readonly request: Readonly<Request>;
    response: Response;
    readonly service: Service | undefined;
    setHeader(headerName: string, value: number | string | string[]): void;
    setHeader(headerName: string): void;
    setHeader(headerName: string, value?: number | string | string[]): void;
    state: Record<PropertyKey, any>;
    status: number;
    toAsyncIterator(): AsyncIterableIterator<Uint8Array>;
    type: string | undefined;
    readonly url: string;
}

// @public
export const enum ErrorCodes {
    InvalidPacket = "ERR_INVALID_PACKET"
}

// @public
export interface ExtendedError extends Error {
    code: string;
}

// @public
export class FetchController implements ServiceController {
    constructor(options?: FetchControllerOptions | undefined | null);
    checkIfEnabled(context: Context): Promise<boolean>;
    checkIfExists(context: Context): Promise<boolean>;
    protected readonly origin?: string;
    serve(context: Context): Promise<void>;
    }

// @public
export interface FetchControllerOptions {
    allowEmptyPath?: boolean;
    enabledDefaults?: boolean | Partial<Record<Service, boolean>>;
    httpsOnly?: boolean;
    origin?: string;
    remoteTail?(service: Service, advertise: boolean): string;
}

// @public
export class LogicController implements ServiceController {
    constructor(upstream: ServiceController, options?: LogicControllerOptions);
    accept(context: Context): Promise<void>;
    checkForAuth(context: Context): Promise<boolean>;
    checkIfEnabled(context: Context): Promise<boolean>;
    checkIfExists(context: Context): Promise<boolean>;
    static checkStatus(context: Context): LogicController.Status;
    readonly onComplete: ReadableSignal<Context>;
    readonly onUsable: ReadableSignal<Context>;
    redirect(context: Context, statusCode: 304): void;
    redirect(context: Context, statusCode?: number): void;
    redirect(context: Context, location: string, statusCode?: number): void;
    redirect(context: Context, locationOrStatus?: string | number, statusCode?: number): void;
    reject(context: Context, statusCode?: number, reason?: string): void;
    serve(context: Context): Promise<void>;
    setCustom(context: Context): void;
    use(...middleware: Middleware[]): this;
}

// @public (undocumented)
export namespace LogicController {
    export const enum Status {
        Accepted = "Accepted",
        Custom = "Custom",
        Failure = "Failure",
        None = "None",
        Redirect = "Redirect",
        Rejected = "Rejected"
    }
}

// @public
export class LogicControllerInstance {
    // @internal
    constructor(controller: LogicController, context: Context);
    accept(): Promise<void>;
    checkForAuth(): Promise<boolean>;
    checkIfEnabled(): Promise<boolean>;
    checkIfExists(): Promise<boolean>;
    readonly context: Context;
    redirect(statusCode: 304): void;
    redirect(statusCode?: number): void;
    redirect(location: string, statusCode?: number): void;
    redirect(locationOrStatus?: string | number, statusCode?: number): void;
    reject(statusCode?: number, reason?: string): void;
    setCustom(): void;
}

// @public
export interface LogicControllerOptions {
    overrides?: MethodOverrides;
    privacyMode?: boolean;
}

// @public
export type MethodOverride = (this: LogicControllerInstance, context: Context) => (void | boolean) | Promise<void | boolean> | PromiseLike<void | boolean>;

// @public
export type MethodOverrides = Partial<Record<Exclude<keyof ServiceController, "serve">, boolean | MethodOverride>>;

// @public
export type Middleware = (this: LogicControllerInstance, context: Context) => any;

// @public (undocumented)
export type ReadonlyCommands = ReadonlyArray<Readonly<CommandReceivePack | CommandUploadPack>>;

// @public
export interface Request {
    body: AsyncIterableIterator<Uint8Array>;
    headers: Headers;
    method: "GET" | "HEAD" | "OPTIONS" | "PATCH" | "POST" | "PUT";
    url: string;
}

// @public
export interface Response {
    body: Body;
    headers: Headers;
    status: number;
}

// @public
export enum Service {
    ReceivePack = "receive-pack",
    UploadPack = "upload-pack"
}

// @public
export interface ServiceController {
    checkForAuth?(context: Context): Promise<boolean>;
    checkIfEnabled(context: Context): Promise<boolean>;
    checkIfExists(context: Context): Promise<boolean>;
    serve(context: Context): Promise<void>;
}


// (No @packageDocumentation comment for this package)

```
